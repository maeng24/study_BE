
연관관계매핑시 고려해야 하는 것
 - 다중성
 - 단방향, 양방향
 - 연관관계의 주인

단방향, 양방향
 >- 테이블 
 >  - 외래 키 하나로 양쪽 조인 가능
 >  - 사실 방향이라는 개념이 없음
 
>- 객체
 >  - 참조용 필드가 있는 쪽으로만 참조 가능
 >  - 한쪽만 참조하면 단방향
 >  - 양쪽이 서로 참조하면 양방향

연관관계의 주인
 - 테이블은 "외래 키 하나"로 두 테이블이 연관관계를 맺음
 - 객체 양방향 관계는 참조가 2군데 ex) A > B, B > A
 - 객체 양방향 관계는 참조가 2군데 있음, 둘 중 테이블의 외래키를 관리할 곳을 지정해야함.
 - 연관관계의 주인 : 외래키를 관리하는 참조
 - 주인의 반대편 : 외래키에 영향을 주지 않음, 단순 조회만 가능

''다중성''

다대일 (N : 1) 단방향
 - 항상 다(N) 쪽에 외래키가 있어야 함. 이쪽이 연관관계의 주인.
 - 가장 많이 사용하는 연관 관계

다대일 (N : 1) 양방향
 - 주인의 반대편은 리스트로 참조를 가지고 있음. mappedBy 속성을 사용한다.
 - 연관관계의 주인을 너무 많이 참조하게 될 때 사용하면 좋음. DB는 건드릴 필요 없이 코드로 작성
 - 양쪽을 서로 참조하도록 개발

일대다 (1 : N) 단방향
 - 실무에서 가져가지 않는 모델. 차라리 다대일 양방향을 사용하는 것이 낫다.
 - 다대일에서 주인과 반대편이 바뀐 모델.
 - 객체와 테이블의 차이 때문에 반대편 테이블의 외래키를 관리하는 특이한 구조.
 - @JoinColumn을 꼭 사용해야함. 사용하지 않으면 조인 테이블 방식을 사용하여 중간에 테이블을 하나 추가한다.
 - 반대편의 값이 생성되면 주인쪽 데이터를 업데이트 쳐줘야함. 외래키 관리를 주인쪽에서 하기 때문
 > 단점
>- 엔티티가 관리하는 외래 키가 다른 테이블에 있음
>- 여러번 쿼리가 돈다. 연관관계 관리를 위해 추가로 update SQL 이 실행됨.
>- 성능 문제는 물론, 관리도 힘듦 -> 운영에서 쓰기 부담스러움 = 다대일 양방향 매핑을 사용하는 것이 낫다.
 
일대다 (1 : N) 양방향
 - 공식적으로 존재하지는 않음
 - @JoinColumn(insertable = false, updatable = false) = 읽기 전용 필드 만들기
 - "읽기 전용 필드"를 사용해서 양방향 처럼 사용하는 방법. 
 - "다대일 양방향을 사용하는 것이 좋음"

일대일 (1 : 1)
 - 주 테이블과 대상 테이블 중 외래키를 선택해 넣을 수 있다.
   - 주 테이블에 외래 키 
   - 대상 테이블에 외래 키
 - 외래 키에 데이터베이스 유니크(UNI) 제약조건 추가

 > 주 테이블에 외래 키 양방향
 >- 다대일 양방향 매핑처럼 외래키가 있는 곳이 연관관계의 주인
 >- 반대편은 mappedBy 적용
 
 > 대상 테이블에 외래 키
 >- 단방향 관계는 JPA 지원 X, 양방향은 O 
 >- 양방향은 주 테이블에 외래 키 양방향과 매핑방법 동일

 - 주 테이블에 외래키 
   - 주 객체가 대상 객체의 참조를 가지는 것처럼 주 테이블에 외래키를 두고 대상 테이블을 찾음
   - 객체지향 개발자들이 선호
   - JPA 매핑 편리
   - 주 테이블만 조회해도 대상 테이블에 데이터가 있는지 확인 가능
   - 값이 없으면 외래키에 null 허용
 - 대상 테이블에 외래 키
   - 대상 테이블에 외래키가 존재
   - 전통적인 데이터베이스 개발자선호
   - 주 테이블과 대상 테이블을 일대일 -> 일대다로 변경할 때 테이블 구조 유지
   - 프록시 기능의 한계로, 지연 로딩으로 설정해도 항상 즉시 로딩됨
  
다대다 (N : M)
 - 
